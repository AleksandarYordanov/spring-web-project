<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="admin/fragments/head :: head"></head>

<body class="loading"
      data-layout-config='{"leftSideBarTheme":"dark","layoutBoxed":false, "leftSidebarCondensed":false, "leftSidebarScrollable":false,"darkMode":false, "showRightSidebarOnStart": true}'>
<!-- Begin page -->
<div class="wrapper">
    <!-- ========== Left Sidebar Start ========== -->
    <th:block th:include="~{admin/fragments/left-sidebar}"></th:block>
    <!-- Left Sidebar End -->

    <!-- ============================================================== -->
    <!-- Start Page Content here -->
    <!-- ============================================================== -->

    <div class="content-page">
        <div class="content">
            <!-- Topbar Start -->
            <th:block th:include="~{admin/fragments/top-bar}"></th:block>
            <!-- end Topbar -->

            <!-- Start Content-->
            <div class="container-fluid">

                <!-- start page title -->
                <div class="row">
                    <div class="col-12">
                        <div class="page-title-box">
                            <div class="page-title-right">
                                <ol class="breadcrumb m-0">
                                    <li class="breadcrumb-item"><a href="javascript: void(0);">Hyper</a></li>
                                    <li class="breadcrumb-item"><a href="javascript: void(0);">Projects</a></li>
                                    <li class="breadcrumb-item active">Create Project</li>
                                </ol>
                            </div>
                            <h4 class="page-title">Create Project</h4>
                        </div>
                    </div>
                </div>

                <!-- end page title -->

                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">

                                <form class="row my-form" th:action="@{ ${id}}" method="post">

                                    <div class="col-xl-6">


                                        <!--Product Name-->
                                        <div class="form-group">
                                            <label for="validationCustom01">Name</label>
                                            <input th:value="${productDTO.getName()}"  name="name" type="text" id="validationCustom01" class="form-control"
                                                     placeholder="Enter product name">
                                        </div>


                                        <!--Price of Product-->
                                        <div class="form-group">
                                            <label >Price</label>
                                            <input th:value="${productDTO.getPrice()}" name="price" data-toggle="touchspin" data-bts-max="unlimited" value="0.00" type="text" data-step="0.01" data-decimals="2" data-bts-postfix="$">
                                        </div>

                                        <!--Stock of Product-->
                                        <div class="form-group">
                                            <label >Product Stock</label>
                                            <input th:value="${productDTO.getStock()}" name="stock" data-toggle="touchspin" data-bts-max="unlimited" value="0.00" type="text" data-step="1" data-decimals="0" >
                                        </div>

                                        <!--Slider for Unlimited-->
                                        <div class="form-group">
                                            <label>Product Unlimited</label>
                                            <div class="custom-control custom-switch"></div>
                                            <input name="unlimited" type="checkbox" id="switch1" th:attrappend="checked=${productDTO.isUnlimited() == true}?'a'"  data-switch="success"
                                            />
                                            <label for="switch1" data-on-label="Yes" data-off-label="No"></label>
                                        </div>

                                        <!--Slider for Live-->
                                        <div class="form-group">
                                            <label>Product active</label>
                                            <div class="custom-control custom-switch"></div>
                                            <input type="checkbox" id="switch2" th:attrappend="checked=${productDTO.isActive() == true}?'a'"  data-switch="success"
                                                   name="active"/>
                                            <label for="switch2" data-on-label="Yes" data-off-label="No"></label>
                                        </div>



                                        <!--Short description of Product-->
                                        <div class="form-group">
                                            <label>Short Desctiption</label>
                                            <input th:value="${productDTO.getShortDescription()}" name="shortDescription" type="text" class="form-control" maxlength="25" data-toggle="maxlength">
                                        </div>

                                    </div> <!-- end col-->

                                    <div class="col-xl-6">
                                        <div class="form-group mt-3 mt-xl-0">
                                            <label  class="mb-0">Avatar</label>
                                            <p class="text-muted font-14">Recommended thumbnail size 800x400 (px).
                                            </p>

                                            <div action="/upload" method="post" class="dropzone" id="myDropzone"
                                                 data-plugin="dropzone" data-previews-container="#file-previews"
                                                 data-upload-preview-template="#uploadPreviewTemplate">
                                                <div class="fallback">
                                                    <input name="file" type="file" />
                                                </div>

                                                <div class="dz-message needsclick">
                                                    <i class="h3 text-muted dripicons-cloud-upload"></i>
                                                    <h4>Drop files here or click to upload.</h4>
                                                </div>
                                            </div>

                                            <!-- Preview -->
                                            <div class="dropzone-previews mt-3" id="file-previews" data-plugin="dragula">
                                                <th:block th:each="photo : ${productDTO.getPhotos()}">
                                                <div class="card mt-1 mb-0 shadow-none border dz-processing dz-success dz-complete dz-image-preview" >
                                                    <div class="p-2">
                                                        <div class="row align-items-center">
                                                            <div class="col-auto new-image">
                                                                <img type="image" data-dz-thumbnail class="bg-light"
                                                                     th:src="${photo.getLocation()}"/>

                                                            </div>
                                                            <div class="col pl-0">
                                                                <input type="hidden" name="imageBits" th:value="${photo.getId()}"/>
                                                                <a href="javascript:void(0);"
                                                                   class="text-muted font-weight-bold"
                                                                   data-dz-name="">res_dfbec0bd700307e0e88bf8d853a8c260.webp</a>
                                                                <p class="mb-0" data-dz-size=""><strong>1.3</strong>
                                                                    KB</p>
                                                            </div>
                                                            <div class="col-auto">
                                                                <!-- Button -->
                                                                <a  class="btn btn-link btn-lg text-muted btn-remove-existing-pic" data-dz-remove>
                                                                    <i class="dripicons-cross"></i>
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                </th:block>
                                            </div>

                                            <!-- file preview template -->
                                            <div class="d-none" id="uploadPreviewTemplate">
                                                <div class="card mt-1 mb-0 shadow-none border">
                                                    <div class="p-2">
                                                        <div class="row align-items-center">
                                                            <div  class="col-auto new-image">
                                                                <img  type="image" data-dz-thumbnail src=""
                                                                      class=" bg-light" alt="">
                                                                <input class="new-image-bits" name="imageBits" type="hidden" path="id" id="hiddenId"/>
                                                            </div>
                                                            <div class="col pl-0">
                                                                <a href="javascript:void(0);"
                                                                   class="text-muted font-weight-bold"
                                                                   data-dz-name></a>
                                                                <p class="mb-0" data-dz-size></p>
                                                            </div>
                                                            <div class="col-auto">
                                                                <!-- Button -->
                                                                <a href="" class="btn btn-link btn-lg text-muted"
                                                                   data-dz-remove>
                                                                    <i class="dripicons-cross"></i>
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- end file preview template -->
                                        </div>


                                    </div> <!-- end col-->




                                    <div class="col-xl-12">

                                        <!--Full Description of Product-->
                                        <div class="form-group">
                                            <label>Description</label>
                                            <textarea th:value="${productDTO.getDescription()}" name="description" data-toggle="maxlength" class="form-control" maxlength="5000" rows="3"
                                                      placeholder="description"></textarea>
                                        </div>
                                        <!--Submit button-->
                                        <button class="btn btn-primary" type="submit">Submit form</button>
                                    </div><!--end col-->


                                </form>

                            </div> <!-- end card-body -->
                        </div> <!-- end card-->
                    </div> <!-- end col-->
                </div>
                <!-- end row-->

            </div> <!-- container -->


        </div>
    </div> <!-- content -->

    <!-- Footer Start -->
    <th:block th:include="~{admin/fragments/footer}"></th:block>
    <!-- end Footer -->




    <!-- ============================================================== -->
    <!-- End Page content -->
    <!-- ============================================================== -->


</div>
<!-- END wrapper -->

<script>
    Dropzone.options.MyDropzone = {
        autoProcessQueue : false,
        dictDefaultMessage: "Drop files or click here to upload a new DICOM series ...",
        init : function() {

            myDropzone = this;

            //Restore initial message when queue has been completed
            this.on("drop", function(event) {
                console.log(myDropzone.files);
            });

        }
    };
</script>
<!-- bundle -->
<th:block th:include="~{admin/fragments/bottomjs}"></th:block>
<script src="/admin/js/remove-existing-pick.js"></script>

<!-- end demo js-->


</body>

</html>